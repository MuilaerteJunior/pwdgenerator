<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"             
             xmlns:admob="clr-namespace:Plugin.AdMob;assembly=Plugin.AdMob"
             xmlns:strings="clr-namespace:PwdGenerator.Resources.Strings"
             x:Class="PwdGenerator.MainPage">

    <!--
  PSEUDOCODE / PLAN:
  - Wrap all content in a ScrollView to allow vertical scrolling on small Android screens.
  - Use a VerticalStackLayout to stack t he main sections: password Entry, buttons, options, footer.
  - Place Generate / Copy buttons in a HorizontalStackLayout that shrinks/wraps naturally.
  - Use a FlexLayout for the option controls (capital letters, numbers, special chars, length).
    - Set FlexLayout.Wrap="Wrap" so items flow to new lines on narrow screens.
    - Give each option container a FlexLayout.Grow="1" so two columns on wider screens and a single column on narrow screens.
    - Provide MinWidthRequest to keep pickers usable.
  - Preserve Picker names and ItemsSource so code-behind continues to work.
  - Keep footer labels aligned and readable on small devices.
  -->

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="18">


            <!-- Options area using FlexLayout to allow wrapping on small widths -->
            <Label Text="{x:Static strings:AppResources.OptionsTitle}"
             FontAttributes="Bold"
             FontSize="Medium" />

            <FlexLayout Direction="Row"
                  Wrap="Wrap"
                  JustifyContent="Start"
                  AlignItems="Start"
                  Margin="0,6,0,0">

                <!-- Capital letters option -->
                <Border Padding="10"
                       Margin="6"
                       BackgroundColor="Transparent"
                       FlexLayout.Grow="1"                        
                       Stroke="Transparent">
                    <VerticalStackLayout Spacing="8">
                        <Label Text="{x:Static strings:AppResources.CapitalLettersTitle}"  LineBreakMode="WordWrap" HorizontalOptions="FillAndExpand"/>
                        <Picker x:Name="capitalsPicker" SelectedIndex="0">
                            <Picker.ItemsSource>
                                <x:Array Type="{x:Type x:Int16}">
                                    <x:Int16>0</x:Int16>
                                    <x:Int16>1</x:Int16>
                                    <x:Int16>2</x:Int16>
                                    <x:Int16>3</x:Int16>
                                    <x:Int16>4</x:Int16>
                                </x:Array>
                            </Picker.ItemsSource>
                        </Picker>
                    </VerticalStackLayout>
                </Border>

                <!-- Numbers option -->
                <Border Padding="10"
                       Margin="6"
                       Stroke="Transparent"
                       BackgroundColor="Transparent"
                       FlexLayout.Grow="1">
                    <VerticalStackLayout Spacing="8">
                        <Label Text="{x:Static strings:AppResources.NumbersTitle}"  LineBreakMode="WordWrap"/>
                        <Picker x:Name="numbersPicker" SelectedIndex="0">
                            <Picker.ItemsSource>
                                <x:Array Type="{x:Type x:Int16}">
                                    <x:Int16>0</x:Int16>
                                    <x:Int16>1</x:Int16>
                                    <x:Int16>2</x:Int16>
                                    <x:Int16>3</x:Int16>
                                    <x:Int16>4</x:Int16>
                                </x:Array>
                            </Picker.ItemsSource>
                        </Picker>
                    </VerticalStackLayout>
                </Border>

                <!-- Special characters option -->
                <Border Padding="10"
                       Margin="6"
                       Stroke="Transparent"
                       BackgroundColor="Transparent"
                       FlexLayout.Grow="1">
                    <VerticalStackLayout Spacing="8">
                        <Label Text="{x:Static strings:AppResources.SpecialCharsTitle}" VerticalOptions="Center"  LineBreakMode="WordWrap"/>
                        <Picker x:Name="specialCharsPicker" SelectedIndex="0">
                            <Picker.ItemsSource>
                                <x:Array Type="{x:Type x:Int16}">
                                    <x:Int16>0</x:Int16>
                                    <x:Int16>1</x:Int16>
                                    <x:Int16>2</x:Int16>
                                    <x:Int16>3</x:Int16>
                                    <x:Int16>4</x:Int16>
                                </x:Array>
                            </Picker.ItemsSource>
                        </Picker>
                    </VerticalStackLayout>
                </Border>

                <!-- Length option -->
                <Border Padding="10"
                       Margin="6"
                       Stroke="Transparent"
                       BackgroundColor="Transparent"
                       FlexLayout.Grow="1">
                    <VerticalStackLayout Spacing="8">
                        <Label Text="{x:Static strings:AppResources.PasswordLengthTitle}"  LineBreakMode="WordWrap"/>
                        <Picker x:Name="lengthPicker" SelectedIndex="0">
                            <Picker.ItemsSource>
                                <x:Array Type="{x:Type x:Int32}">
                                    <x:Int32>8</x:Int32>
                                    <x:Int32>10</x:Int32>
                                    <x:Int32>12</x:Int32>
                                    <x:Int32>16</x:Int32>
                                    <x:Int32>20</x:Int32>
                                    <x:Int32>24</x:Int32>
                                    <x:Int32>32</x:Int32>
                                    <x:Int32>40</x:Int32>
                                    <x:Int32>50</x:Int32>
                                </x:Array>
                            </Picker.ItemsSource>
                        </Picker>
                    </VerticalStackLayout>
                </Border>

            </FlexLayout>

            <!-- Password area -->
            <Label Text="{x:Static strings:AppResources.PasswordTitle}"
             FontAttributes="Bold"
             FontSize="Medium" />

            <!-- Password display -->
            <Entry
                x:Name="entryPwd"
                Placeholder="Generated Password"
                IsReadOnly="True"
                Text="{x:Static strings:AppResources.InputPlaceHolder}"
                VerticalOptions="Center"
                HorizontalOptions="FillAndExpand" />

            <!-- Buttons -->
            <Grid ColumnSpacing="12" HorizontalOptions="Center" >
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Button
                        Grid.Column="0"
                      Text="{x:Static strings:AppResources.BtnGenerateText}"
                      WidthRequest="120"
                      HorizontalOptions="Start"
                      Clicked="BtnGenerate_Click" />
                <Button
                        Grid.Column="1"
                      Text="{x:Static strings:AppResources.BtnCopyClipboardText}"
                      WidthRequest="140"
                      HorizontalOptions="Start"
                      Clicked="BtnCopy_Click" />
            </Grid>

            <!-- ADS -->
            

            <!-- Author -->
            <HorizontalStackLayout Spacing="12" HorizontalOptions="FillAndExpand" Padding="0,10,0,0">
                <Label Text="{x:Static strings:AppResources.AuthorText}"
                   FontAttributes="Bold"
                   FontSize="Small"
                   VerticalOptions="Center"
                   HorizontalOptions="StartAndExpand" />

                <Label Text="github.com/muilaertejunior"
                   FontSize="Small"
                   TextDecorations="Underline"
                   TextColor="RoyalBlue"
                   VerticalOptions="Center"
                   HorizontalOptions="End" />
            </HorizontalStackLayout>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>